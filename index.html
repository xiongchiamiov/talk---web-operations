<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>An Introduction to Web Operations</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src=".//js/sh_lang/sh_sh.min.js"></script>
    
      <script type="text/javascript" src=".//js/sh_lang/sh_php.min.js"></script>
    
  

  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>


<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src="/css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<div id="01-intro/slides" class="slide " data-transition="none"><div class="content " ref="01-intro/slides/1">
<h3>An introduction to</h3>

<h1>Web Operations</h1>

<h2>The running of a popular website</h2>

<h3>http://changedmy.name/talk---web-operations/</h3></div>
</div><div id="01-intro/slides" class="slide " data-transition="none"><div class="content " ref="01-intro/slides/2">
<h2>James Pearson</h2>

<h3>james@ifixit.com</h3>

<h3>github.com/xiongchiamiov</h3>

<h3>changedmy.name</h3></div>
</div><div id="01-intro/slides" class="slide center incremental bullets" data-transition="none"><div class="content center incremental bullets" ref="01-intro/slides/3">
<ul>
<li><img src="./file/01-intro/ifixit.png" alt="iFixit"/></li>
<li><img src="./file/01-intro/dozuki.png" alt="Dozuki"/></li>
</ul></div>
</div><div id="01-intro/slides" class="slide incremental bullets" data-transition="none"><div class="content incremental bullets" ref="01-intro/slides/4">
<h2>http://www.ifixit.com/Info/Jobs</h2>

<ul>
<li>Gain cash and experience during the school year</li>
<li>Flexible hours</li>
<li>Grow as an individual</li>
<li>High-scale, high-impact real-world experience</li>
</ul></div>
</div><div id="01-intro/slides" class="slide " data-transition="none"><div class="content " ref="01-intro/slides/5">
<h2>reddit.com/r/CsCareerQuestions</h2></div>
</div><div id="01-intro/slides" class="slide " data-transition="none"><div class="content " ref="01-intro/slides/6">
<h1>Table of Contents</h1>

<h2>What <em>is</em> Web Operations?</h2>

<h2>General Web Architecture</h2>

<h2>Server Provisioning</h2>

<h2>Monitoring and Alerting</h2>

<h2>Web Security</h2></div>
</div><div id="02-definitions/slides" class="slide " data-transition="none"><div class="content " ref="02-definitions/slides/1">
<h1>What <em>is</em> Web Operations?</h1></div>
</div><div id="02-definitions/slides" class="slide " data-transition="none"><div class="content " ref="02-definitions/slides/2">
<h2>Web Operations Engineer</h2>

<h2>aka Site Reliability Engineer</h2>

<h2>aka DevOps Engineer</h2></div>
</div><div id="02-definitions/slides" class="slide " data-transition="none"><div class="content " ref="02-definitions/slides/3">
<p><img src="./file/02-definitions/devops.svg" alt="DevOps"/></p></div>
</div><div id="02-definitions/slides" class="slide center" data-transition="none"><div class="content center" ref="02-definitions/slides/4">
<p><img src="./file/02-definitions/firefighter.jpg" alt="Firefighter"/></p></div>
</div><div id="02-definitions/slides" class="slide " data-transition="none"><div class="content " ref="02-definitions/slides/5">
<h2>Ensure shit works.</h2></div>
</div><div id="02-definitions/slides" class="slide " data-transition="none"><div class="content " ref="02-definitions/slides/6">
<h2>We're still programmers</h2></div>
</div><div id="02-definitions/slides" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="02-definitions/slides/7">
<ul>
<li>PHP</li>
<li>Bash</li>
<li>Python</li>
<li>Ruby</li>
</ul></div>
</div><div id="02-definitions/slides" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="02-definitions/slides/8">
<ul>
<li>SQL</li>
<li>Javascript</li>
<li>VCL</li>
<li>C</li>
<li>Java</li>
<li>Perl</li>
<li>etc.</li>
</ul></div>
</div><div id="03-general-web-architecture/slides" class="slide " data-transition="none"><div class="content " ref="03-general-web-architecture/slides/1">
<h1>General Web Architecture</h1></div>
</div><div id="03-general-web-architecture/slides" class="slide bullets incremental center" data-transition="none"><div class="content bullets incremental center" ref="03-general-web-architecture/slides/2">
<h2>HTTP is Stateless</h2>

<ul>
<li><img src="./file/03-general-web-architecture/xkcd.png" alt="xkcd 869"/></li>
</ul></div>
</div><div id="03-general-web-architecture/slides" class="slide center" data-transition="none"><div class="content center" ref="03-general-web-architecture/slides/3">
<p><img src="./file/03-general-web-architecture/architecture.png" alt="iFixit server architecture"/></p></div>
</div><div id="03-general-web-architecture/slides" class="slide center" data-transition="none"><div class="content center" ref="03-general-web-architecture/slides/4">
<p><img src="./file/03-general-web-architecture/response-times.png" alt="iFixit response times"/></p></div>
</div><div id="03-general-web-architecture/slides" class="slide center" data-transition="none"><div class="content center" ref="03-general-web-architecture/slides/5">
<p><img src="./file/03-general-web-architecture/architecture.png" alt="iFixit server architecture"/></p></div>
</div><div id="04-reproducible-servers/slides" class="slide " data-transition="none"><div class="content " ref="04-reproducible-servers/slides/1">
<h1>Server Provisioning</h1></div>
</div><div id="04-reproducible-servers/slides" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="04-reproducible-servers/slides/2">
<ul>
<li>How long does it take to create a server by hand?</li>
<li>How sure are you the second one acts the same?</li>
</ul></div>
</div><div id="04-reproducible-servers/slides" class="slide " data-transition="none"><div class="content " ref="04-reproducible-servers/slides/3">
<pre class="sh_sh"><code>#!/bin/bash -ex

source ../../shared/setup.sh

cd /tmp/build

PACKAGE=httpd
VERSION=2.2.22
DESTDIR=/tmp/fpm/$PACKAGE-$VERSION
mkdir -p $DESTDIR
export DESTDIR

wget --no-verbose "http://archive.apache.org/dist/httpd/httpd-$VERSION.tar.gz"
tar -zxf httpd-$VERSION.tar.gz
cd httpd-$VERSION
# We need to use the included version of apr:
# http://apache-http-server.18135.n6.nabble.com/Bug-53162-New-Cannot-compile-Apache-2-2-22-td4940024.html
./configure --prefix=/etc/httpd \
            --bindir=/usr/bin \</code></pre></div>
</div><div id="04-reproducible-servers/slides" class="slide bullets" data-transition="none"><div class="content bullets" ref="04-reproducible-servers/slides/4">
<ul>
<li>Puppet</li>
<li>Chef</li>
<li>Ansible</li>
<li>Salt</li>
</ul></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/1">
<h1>Monitoring and Alerting</h1></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/2">
<h2>Healthcare.gov</h2>

<h3>http://dpaste.com/1756566/plain/</h3></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/3">
<blockquote>
<p>"Nobody could even tell us if the system was up as we were sitting there,
except by taking out laptops and trying to go on it."</p>
</blockquote></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="05-monitoring-and-alerting/slides/4">
<ul>
<li>
<strong>Monitoring</strong> - recording what's going on.</li>
<li>
<strong>Alerting</strong> - letting us know when monitored data indicates a problem.</li>
</ul></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/5">
<blockquote>
<p>You can't fix what you can't measure.</p>
</blockquote></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/6">
<h1>What do we measure?</h1></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide center" data-transition="none"><div class="content center" ref="05-monitoring-and-alerting/slides/7">
<h2>Business metrics</h2>

<p><img src="./file/05-monitoring-and-alerting/business-metrics.png" alt="guide views and completions"/></p></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide center" data-transition="none"><div class="content center" ref="05-monitoring-and-alerting/slides/8">
<h2>Application metrics</h2>

<p><img src="./file/05-monitoring-and-alerting/application-metrics.png" alt="password changes"/></p></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide center" data-transition="none"><div class="content center" ref="05-monitoring-and-alerting/slides/9">
<h2>System metrics</h2>

<p><img src="./file/05-monitoring-and-alerting/system-metrics.png" alt="db master load"/></p></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/10">
<h1>What do we use to measure?</h1></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/11">
<ol>
<li>It should be easy to get data <strong>in</strong>.</li>
<li>It should be easy to get data <strong>out</strong>.</li>
</ol></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/12">
<h2>Graphite</h2>

<p>https://graphite.readthedocs.org/</p></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/13">
<h2>StatsD</h2>

<pre class="sh_php"><code>Stats::recordEvent('talk.web-ops');</code></pre></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide " data-transition="none"><div class="content " ref="05-monitoring-and-alerting/slides/14">
<h2>pipe-to-graphite</h2>

<pre class="sh_sh"><code># Produce a huge number of stats about mysql
mysql -u root -e "show global status" |
# Skip the first line (column headers "Variable_name Value")
tail -n +2 |
# lower-case everything because Capitals_with_underscores_are_annoying
tr '[A-Z]' '[a-z]' |
# Prepend 'mysql.' and turn a few instances of 'name_' into 'name.' mainly
# so they are grouped in the Graphite UI
sed -re "s/^(com|handler|innodb|key|qcache|select|sort|threads)_/./" \
     -e "s/^/mysql./" -e "/\S+\s+[0-9.-]+/!d"</code></pre></div>
</div><div id="05-monitoring-and-alerting/slides" class="slide center" data-transition="none"><div class="content center" ref="05-monitoring-and-alerting/slides/15">
<p><img src="./file/05-monitoring-and-alerting/dashboard.png" alt="graphite dashboard"/></p></div>
</div></div>
<div id="pauseScreen">
  PAUSED
</div>

</body>
</html>
